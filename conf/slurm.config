params {
    config_profile_name        = 'slurm.config'
    config_profile_description = 'Slurm config file'
}

executor {
    name            = 'slurm'
    queueSize       = 6                  // Max 6 concurrent jobs submitted
    submitRateLimit = '1/10sec'          // Submit 1 job every 10 seconds
    queue = 'ncpu'
}

process {
    resourceLimits = [
        memory: 256.GB,
        cpus: 20,
        time: 48.h
    ]

    process {
    maxForks          = 6              // match 7-job limit (1 parent + 6 tasks)
    queueStatInterval = '1 min'        // how often to poll SLURM for status
    maxRetries        = 3
    errorStrategy     = { task.attempt <= 3 ? "retry" : "finish" }
    cache             = 'lenient'
    exitStatusReadTimeoutMillis = '600000'  // 10 minutes
    }
}